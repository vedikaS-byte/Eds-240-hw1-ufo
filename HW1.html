<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vedika Shirtekar">
<meta name="description" content="Assigned Wed 01/07/2026 | Due Wed 01/14/2026">

<title>HW #1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="HW1_files/libs/clipboard/clipboard.min.js"></script>
<script src="HW1_files/libs/quarto-html/quarto.js"></script>
<script src="HW1_files/libs/quarto-html/popper.min.js"></script>
<script src="HW1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="HW1_files/libs/quarto-html/anchor.min.js"></script>
<link href="HW1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="HW1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="HW1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="HW1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="HW1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#i.-setup" id="toc-i.-setup" class="nav-link active" data-scroll-target="#i.-setup">I. Setup</a></li>
  <li><a href="#ii.-data-wrangling" id="toc-ii.-data-wrangling" class="nav-link" data-scroll-target="#ii.-data-wrangling">II. Data wrangling</a>
  <ul class="collapse">
  <li><a href="#i.-create-df_pop" id="toc-i.-create-df_pop" class="nav-link" data-scroll-target="#i.-create-df_pop">i. Create <code>df_pop</code></a></li>
  <li><a href="#ii.-create-df_us" id="toc-ii.-create-df_us" class="nav-link" data-scroll-target="#ii.-create-df_us">ii. Create <code>df_us</code></a></li>
  <li><a href="#iii.-create-df_shape" id="toc-iii.-create-df_shape" class="nav-link" data-scroll-target="#iii.-create-df_shape">iii. Create <code>df_shape</code></a></li>
  <li><a href="#iv.-create-df_day_hour" id="toc-iv.-create-df_day_hour" class="nav-link" data-scroll-target="#iv.-create-df_day_hour">iv. Create <code>df_day_hour</code></a></li>
  </ul></li>
  <li><a href="#iii.-prepare-text-elements" id="toc-iii.-prepare-text-elements" class="nav-link" data-scroll-target="#iii.-prepare-text-elements">III. Prepare text elements</a></li>
  <li><a href="#iv.-build-plots" id="toc-iv.-build-plots" class="nav-link" data-scroll-target="#iv.-build-plots">IV. Build plots</a>
  <ul class="collapse">
  <li><a href="#i.-build-plot_shape" id="toc-i.-build-plot_shape" class="nav-link" data-scroll-target="#i.-build-plot_shape">i. Build <code>plot_shape</code></a></li>
  <li><a href="#ii.-build-plot_us" id="toc-ii.-build-plot_us" class="nav-link" data-scroll-target="#ii.-build-plot_us">ii. Build <code>plot_us</code></a></li>
  <li><a href="#iii.-build-plot_day" id="toc-iii.-build-plot_day" class="nav-link" data-scroll-target="#iii.-build-plot_day">iii. Build <code>plot_day</code></a></li>
  <li><a href="#iv.-build-quotes" id="toc-iv.-build-quotes" class="nav-link" data-scroll-target="#iv.-build-quotes">iv. Build <code>quote*</code>s</a></li>
  <li><a href="#v.-build-plot_ufo" id="toc-v.-build-plot_ufo" class="nav-link" data-scroll-target="#v.-build-plot_ufo">v. Build <code>plot_ufo</code></a></li>
  <li><a href="#vi.-build-plot_base" id="toc-vi.-build-plot_base" class="nav-link" data-scroll-target="#vi.-build-plot_base">vi. Build <code>plot_base</code></a></li>
  </ul></li>
  <li><a href="#v.-assemble-save" id="toc-v.-assemble-save" class="nav-link" data-scroll-target="#v.-assemble-save">V. Assemble &amp; save</a></li>
  <li><a href="#answer-some-final-reflective-questions" id="toc-answer-some-final-reflective-questions" class="nav-link" data-scroll-target="#answer-some-final-reflective-questions">Answer some final reflective questions</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HW #1</h1>
<p class="subtitle lead">Interpreting <code>{ggplot2}</code> code</p>
</div>

<div>
  <div class="description">
    Assigned Wed 01/07/2026 | Due Wed 01/14/2026
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vedika Shirtekar </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Some notes before you get started
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Be sure to install any packages</strong> in the Setup chunk that you don’t already have.</li>
<li><strong>Leave the code chunk options, <code>eval: false</code> and <code>echo: true</code>, set as they are.</strong> The final infographic has been intentionally optimized (e.g., text size, spacing) for saving and viewing as a PNG file, not for display in the Plots pane or within a rendered Quarto document. As a result, the text in each individual ggplot may appear too large when viewed in the Plots pane, but will be correctly sized in the exported PNG. We’ll talk more about the nuances of saving ggplots (and why these differences occur) in a later lab section.</li>
<li>Some answers may become clearer once you’ve looked ahead at the code further down in the script. <strong>Consider revisiting questions as you go.</strong></li>
</ul>
</div>
</div>
<section id="i.-setup" class="level2">
<h2 class="anchored" data-anchor-id="i.-setup">I. Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(colorspace)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(geofacet) </span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(ggtext) </span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(glue) </span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(grid)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(magick)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(patchwork) </span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(scales) </span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(showtext) </span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a>ufo_sightings <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2023/2023-06-20/ufo_sightings.csv'</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a>places <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2023/2023-06-20/places.csv'</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a>alien <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#101319"</span>, <span class="st">"#28ee85"</span>)</span>
<span id="cb1-16"><a href="#cb1-16"></a>bg <span class="ot">&lt;-</span> alien[<span class="dv">1</span>]</span>
<span id="cb1-17"><a href="#cb1-17"></a>accent <span class="ot">&lt;-</span> alien[<span class="dv">2</span>]</span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a>ufo_image <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_read</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"MEDS"</span>, <span class="st">"eds-240"</span>,<span class="st">"Eds-240-hw1-ufo"</span> , <span class="st">"images"</span>, <span class="st">"ufo.png"</span>)) </span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>sysfonts<span class="sc">::</span><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Orbitron"</span>, <span class="at">family =</span> <span class="st">"orb"</span>)</span>
<span id="cb1-22"><a href="#cb1-22"></a>sysfonts<span class="sc">::</span><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Barlow"</span>, <span class="at">family =</span> <span class="st">"bar"</span>)</span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a>sysfonts<span class="sc">::</span><span class="fu">font_add</span>(<span class="at">family =</span> <span class="st">"fa-brands"</span>, <span class="at">regular =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"MEDS"</span>, <span class="st">"eds-240"</span>,<span class="st">"Eds-240-hw1-ufo"</span>,<span class="st">"fonts"</span>, <span class="st">"Font Awesome 6 Free-Regular-400.otf"</span>))</span>
<span id="cb1-25"><a href="#cb1-25"></a>sysfonts<span class="sc">::</span><span class="fu">font_add</span>(<span class="at">family =</span> <span class="st">"fa-solid"</span>, <span class="at">regular =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"MEDS"</span>, <span class="st">"eds-240"</span>,<span class="st">"Eds-240-hw1-ufo"</span>, <span class="st">"fonts"</span>, <span class="st">"Font Awesome 6 Free-Solid-900.otf"</span>))</span>
<span id="cb1-26"><a href="#cb1-26"></a></span>
<span id="cb1-27"><a href="#cb1-27"></a>showtext<span class="sc">::</span><span class="fu">showtext_auto</span>(<span class="at">enable =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li><strong>What is the author defining in lines 15-17? Where else in the code do these defined variables show up? What advantage(s) is there to defining these values here, as variables, rather than defining the values directly throughout the script?</strong></li>
</ol>
<p>In lines 15-17, a color palette is defined with hex codes for background (black) and accent (green) colors in the UFO visual. Each color is subset by index and assigned to a variable that is referenced for a specific use. For example, <code>bg</code> contains the black background color for the visual, which is referred to in the aesthetics for constructing the plot background fill and base color, such as in <code>plot_us</code> and the text color for <code>plot_shape</code>. The <code>accent</code> variable refers to the light green color primarily used for text color and the fill of graph aesthetics, such as bar fills (ex. <code>accent</code> is used to define the text color and fill color of the graphs in <code>plot_us</code> and <code>plot_day</code>).</p>
<p>The naming convention is convenient because saving the colors as variables prevents having to constantly reference the hex codes throughout the script. Additionally, it makes the code easier to read, maintain, and update, since changing a color only requires editing it in one place rather than multiple locations.</p>
<ol start="2" type="1">
<li><strong>In your own words, explain what the function, <code>font_add_google()</code>, does. What’s the difference between the two arguments, <code>name</code> and <code>family</code>?</strong></li>
</ol>
<ul>
<li><code>font_add_google()</code> is a function from the <code>sysfonts</code> package that downloads font files from the Google Fonts repository and registers them so they can be used in R graphics. The function searches for a font using its official Google Fonts name, downloads the necessary files, and makes the font available for plotting. The <code>name</code> argument specifies the exact Google Fonts name used to identify the preferred font. The <code>family</code> argument defines the font family name used within R, which acts as an internal label referenced by plotting functions, such as ggplot2. While <code>family</code> can be any string and does not need to match <code>name</code>, it is the value that can be later used when specifying the font in plots.</li>
</ul>
</section>
<section id="ii.-data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="ii.-data-wrangling">II. Data wrangling</h2>
<section id="i.-create-df_pop" class="level3">
<h3 class="anchored" data-anchor-id="i.-create-df_pop">i. Create <code>df_pop</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>df_pop <span class="ot">&lt;-</span> places <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">filter</span>(country_code <span class="sc">==</span> <span class="st">"US"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_replace</span>(<span class="at">string =</span> state,</span>
<span id="cb2-4"><a href="#cb2-4"></a>                             <span class="at">pattern =</span> <span class="st">"Fl"</span>,</span>
<span id="cb2-5"><a href="#cb2-5"></a>                             <span class="at">replacement =</span> <span class="st">"FL"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">summarise</span>(<span class="at">pop =</span> <span class="fu">sum</span>(population)) <span class="sc">|&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li><p><strong>Describe what this data frame contains.</strong></p>
<ul>
<li>This data frame contains aggregated population data for the United States at the state level (grouped by state). The <code>df_pop</code> data set is created by filtering the <code>places</code> data set to include only records from the U.S., setting the state abbreviation for Florida, and then grouping the data by state. For each state, the population values of all places are summed to calculate the total state population. The finalized data frame has one observation per state with a column for the <code>state</code> abbreviation and a column for the total population (<code>pop</code>).</li>
</ul></li>
</ol>
</section>
<section id="ii.-create-df_us" class="level3">
<h3 class="anchored" data-anchor-id="ii.-create-df_us">ii. Create <code>df_us</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>df_us <span class="ot">&lt;-</span> ufo_sightings <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">filter</span>(country_code <span class="sc">==</span> <span class="st">"US"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_replace</span>(<span class="at">string =</span> state,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                             <span class="at">pattern =</span> <span class="st">"Fl"</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>                             <span class="at">replacement =</span> <span class="st">"FL"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">count</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fu">left_join</span>(df_pop, <span class="at">by =</span> <span class="st">"state"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="fu">rename</span>(<span class="at">num_obs =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-10"><a href="#cb3-10"></a>    <span class="at">num_obs_per10k =</span> num_obs <span class="sc">/</span> pop <span class="sc">*</span> <span class="dv">10000</span>,</span>
<span id="cb3-11"><a href="#cb3-11"></a>    <span class="at">opacity_val =</span> num_obs_per10k <span class="sc">/</span> <span class="fu">max</span>(num_obs_per10k)</span>
<span id="cb3-12"><a href="#cb3-12"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li><p><strong>Describe what this data frame contains.</strong></p>
<ul>
<li>The <code>df_us</code> data frame contains the summarized UFO sighting information at the state level (including Washington DC). The data frame includes the total number of reported UFO sightings (<code>num_obs</code>), the state’s total population (<code>pop</code>), and a normalized rate of sightings per 10,000 people (<code>num_obs_per10k</code>). <code>opacity_val</code> contains the scaled sightings rate relative to the maximum observed rate of sightings per state.</li>
</ul></li>
<li><p><strong>What does <code>opacity_val</code> represent, and why is it calculated?</strong></p>
<ul>
<li><code>opacity_val</code> represents the scaled measure of UFO sightings rate or frequency relative to the maximum observed rate of sightings per state with a range between 0 and 1. <code>opacity_val</code> is calculated by dividing each state’s sightings per 10,000 people (<code>num_obs_per10k</code>) by the maximum value of <code>num_obs_per10k</code> across all states. This variable was calculated for visualization purposes, such as mapping <code>opacity_val</code> to transparency (<code>alpha</code>) in a plot or map. With this aesthetic, states with a higher rate of UFO sightings would appear lighter, while states with lower rates would appear darker. By mapping <code>opacity_val</code> to adjust for transparency in a ggplot object, it is easier to visually compare relative sighting intensity across states.</li>
</ul></li>
</ol>
</section>
<section id="iii.-create-df_shape" class="level3">
<h3 class="anchored" data-anchor-id="iii.-create-df_shape">iii. Create <code>df_shape</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>df_shape <span class="ot">&lt;-</span> ufo_sightings <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>shape <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"unknown"</span>, <span class="st">"other"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">count</span>(shape) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">rename</span>(<span class="at">total_sightings =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_sightings)) <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-8"><a href="#cb4-8"></a>    <span class="at">shape =</span> <span class="fu">fct_reorder</span>(<span class="at">.f =</span> shape, </span>
<span id="cb4-9"><a href="#cb4-9"></a>                        <span class="at">.x =</span> total_sightings), </span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="at">opacity_val =</span> scales<span class="sc">::</span><span class="fu">rescale</span>(<span class="at">x =</span> total_sightings, </span>
<span id="cb4-11"><a href="#cb4-11"></a>                                  <span class="at">to =</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="dv">1</span>))</span>
<span id="cb4-12"><a href="#cb4-12"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li><p><strong>Describe what this data frame contains.</strong></p>
<ul>
<li><code>df_shape</code> contains the total sightings of each differently shaped UFO, summarizing the top ten most commonly reported UFO shapes. The number of total sightings are arranged in descending order, and vague shapes (eg., “unknown and”other”) are excluded from the data frame. <code>opacity_val</code> rescales the total number of sightings to a range between 0.3 and 1.</li>
</ul></li>
<li><p><strong>What does <code>fct_reorder</code> do when it is applied to the <code>shape</code> variable? What would have happened if this step was not performed?</strong></p>
<ul>
<li><code>fct_reorder()</code> reorders the levels of the <code>shape</code> factor based on the values of <code>total_sightings</code>. The UFO shape categories are arranged in order of decreasing frequency rather than remaining in the default or alphabetical order, ensuring that when plotted, the shapes appear in a meaningful order that reflects how common each shape is (ex. plotting each level in descending order rather than alphabetically). Without reordering the levels in the <code>shape</code> factor, the <code>shape</code> variable would remain in its original ordering, and the plot using <code>shape</code> on its respective access would display the categories in a nonsensical numerical order; it would be harder to visually interpret and compare the frequency of different UFO shapes.</li>
</ul></li>
<li><p><strong>What is the purpose of rescaling <code>opacity_val</code>? And why rescale from 0.3 to 1?</strong></p>
<ul>
<li><code>opacity_val</code> was rescaled to convert the actual counts of UFO sightings into values that can be utilized directly for visualization. More specifically, opacity_val can be utilized in the <code>alpha</code> argument of <code>ggplot</code> functions to represent the scale of “emphasis” on overall sightings per UFO shape type. Rescaling from 0.3 to 1 ensures that all shapes remain visible while still highlighting differences in frequency. For example, if the lower bound were 0 or close to 0, then shapes with fewer sightings (or very close to it), would become too dark to spot in a plot. By setting the minimum opacity to 0.3, the least common shapes are still easy to see. The upper bound of 1 allows the most frequently reported shapes to be fully colored and stand out more clearly. making them stand out clearly. This range strikes a balance between readability and visual emphasis in the visualization.</li>
</ul></li>
</ol>
</section>
<section id="iv.-create-df_day_hour" class="level3">
<h3 class="anchored" data-anchor-id="iv.-create-df_day_hour">iv. Create <code>df_day_hour</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>df_day_hour <span class="ot">&lt;-</span> ufo_sightings <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="at">day =</span> <span class="fu">wday</span>(reported_date_time), </span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="at">hour =</span> <span class="fu">hour</span>(reported_date_time), </span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="at">wday =</span> <span class="fu">wday</span>(reported_date_time, <span class="at">label =</span> <span class="cn">TRUE</span>) </span>
<span id="cb5-6"><a href="#cb5-6"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="fu">count</span>(day, wday, hour) <span class="sc">|&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="fu">rename</span>(<span class="at">total_daily_obs =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="at">opacity_val =</span> total_daily_obs <span class="sc">/</span> <span class="fu">max</span>(total_daily_obs),</span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="at">hour_lab =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-12"><a href="#cb5-12"></a>      hour <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"12am"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>      hour <span class="sc">&lt;=</span> <span class="dv">12</span> <span class="sc">~</span> <span class="fu">paste0</span>(hour, <span class="st">"am"</span>),</span>
<span id="cb5-14"><a href="#cb5-14"></a>      hour <span class="sc">==</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"12pm"</span>,</span>
<span id="cb5-15"><a href="#cb5-15"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">paste0</span>(hour <span class="sc">-</span> <span class="dv">12</span>, <span class="st">"pm"</span>)) </span>
<span id="cb5-16"><a href="#cb5-16"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="9" type="1">
<li><p><strong>Describe what this data frame contains.</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>What is the purpose of the last line inside the <code>case_when()</code> statement (<code>TRUE ~ paste0(hour - 12, "pm")</code>)?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
</section>
<section id="iii.-prepare-text-elements" class="level2">
<h2 class="anchored" data-anchor-id="iii.-prepare-text-elements">III. Prepare text elements</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>quotes <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'"...'</span>, <span class="fu">str_to_sentence</span>(ufo_sightings<span class="sc">$</span>summary[<span class="fu">c</span>(<span class="dv">47816</span>, <span class="dv">6795</span>, <span class="dv">93833</span>)]), <span class="st">'..."'</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>original <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"Original visualization by Dan Oehm:"</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>dan_github <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"&lt;span style='font-family:fa-brands;'&gt;&amp;#xf09b;&lt;/span&gt; doehm/tidytues"</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>new <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"Updated version by Sam Shanny-Csik for EDS 240:"</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a>link <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"&lt;span style='font-family:fa-solid;'&gt;&amp;#xf0c1;&lt;/span&gt; eds-240-data-viz.github.io"</span>)</span>
<span id="cb6-7"><a href="#cb6-7"></a>space <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"&lt;span style='color:{bg};'&gt;. .&lt;/span&gt;"</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a>caption <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{original}{space}{dan_github}</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">                &lt;br&gt;&lt;br&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">                {new}{space}{link}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="11" type="1">
<li><p><strong>In your own words, what is the difference between <code>paste0()</code> and <code>glue()</code>? Why did the author use <code>paste0</code> to construct <code>quotes</code> and <code>glue</code> to construct the other text elements?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="iv.-build-plots" class="level2">
<h2 class="anchored" data-anchor-id="iv.-build-plots">IV. Build plots</h2>
<section id="i.-build-plot_shape" class="level3">
<h3 class="anchored" data-anchor-id="i.-build-plot_shape">i. Build <code>plot_shape</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>plot_shape <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_shape) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> total_sightings, <span class="at">y =</span> shape, <span class="at">alpha =</span> opacity_val), </span>
<span id="cb7-3"><a href="#cb7-3"></a>           <span class="at">fill =</span> accent) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">200</span>, <span class="at">y =</span> shape, <span class="at">label =</span> <span class="fu">str_to_title</span>(shape)), </span>
<span id="cb7-5"><a href="#cb7-5"></a>            <span class="at">family =</span> <span class="st">"orb"</span>, </span>
<span id="cb7-6"><a href="#cb7-6"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb7-7"><a href="#cb7-7"></a>            <span class="at">color =</span> bg, </span>
<span id="cb7-8"><a href="#cb7-8"></a>            <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb7-9"><a href="#cb7-9"></a>            <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb7-10"><a href="#cb7-10"></a>            <span class="at">nudge_y =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> total_sightings<span class="dv">-200</span>, <span class="at">y =</span> shape, <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(total_sightings)),</span>
<span id="cb7-12"><a href="#cb7-12"></a>            <span class="at">family =</span> <span class="st">"orb"</span>,</span>
<span id="cb7-13"><a href="#cb7-13"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb7-14"><a href="#cb7-14"></a>            <span class="at">color =</span> bg,</span>
<span id="cb7-15"><a href="#cb7-15"></a>            <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb7-16"><a href="#cb7-16"></a>            <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb7-17"><a href="#cb7-17"></a>            <span class="at">nudge_y =</span> <span class="sc">-</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb7-18"><a href="#cb7-18"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb7-19"><a href="#cb7-19"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"10 most commonly reported shapes"</span>) <span class="sc">+</span></span>
<span id="cb7-20"><a href="#cb7-20"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21"></a>  <span class="fu">theme</span>(</span>
<span id="cb7-22"><a href="#cb7-22"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb7-23"><a href="#cb7-23"></a>                                 <span class="at">size =</span> <span class="dv">40</span>, </span>
<span id="cb7-24"><a href="#cb7-24"></a>                                 <span class="at">color =</span> accent,</span>
<span id="cb7-25"><a href="#cb7-25"></a>                                 <span class="at">hjust =</span> <span class="dv">0</span>,  </span>
<span id="cb7-26"><a href="#cb7-26"></a>                                 <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb7-27"><a href="#cb7-27"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span> </span>
<span id="cb7-28"><a href="#cb7-28"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="12" type="1">
<li><p><strong>Explain the values provided to the <code>x</code> aesthetic for both text geoms (<code>shape</code> &amp; <code>total_sightings</code>).</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="ii.-build-plot_us" class="level3">
<h3 class="anchored" data-anchor-id="ii.-build-plot_us">ii. Build <code>plot_us</code></h3>
<p><strong>HINT:</strong> Consider temporarily commenting out / rearranging the <code>geom_*()</code> layers to better understand how this plot is constructed</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>plot_us <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>(df_us) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="dv">0</span>, <span class="at">xmax =</span> <span class="dv">1</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">1</span>, <span class="at">alpha =</span> opacity_val), </span>
<span id="cb8-3"><a href="#cb8-3"></a>            <span class="at">fill =</span> accent) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fl">0.7</span>, <span class="at">label =</span> state), </span>
<span id="cb8-5"><a href="#cb8-5"></a>            <span class="at">family =</span> <span class="st">"orb"</span>, </span>
<span id="cb8-6"><a href="#cb8-6"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>            <span class="at">size =</span> <span class="dv">9</span>, </span>
<span id="cb8-8"><a href="#cb8-8"></a>            <span class="at">color =</span> bg) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fl">0.3</span>, <span class="at">label =</span> <span class="fu">round</span>(num_obs_per10k, <span class="dv">1</span>)), </span>
<span id="cb8-10"><a href="#cb8-10"></a>            <span class="at">family =</span> <span class="st">"orb"</span>, </span>
<span id="cb8-11"><a href="#cb8-11"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb8-12"><a href="#cb8-12"></a>            <span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb8-13"><a href="#cb8-13"></a>            <span class="at">color =</span> bg) <span class="sc">+</span>  </span>
<span id="cb8-14"><a href="#cb8-14"></a>  geofacet<span class="sc">::</span><span class="fu">facet_geo</span>(<span class="sc">~</span>state) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Sightings per 10k population"</span>) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>  <span class="fu">theme</span>(</span>
<span id="cb8-19"><a href="#cb8-19"></a>    <span class="at">strip.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-20"><a href="#cb8-20"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb8-21"><a href="#cb8-21"></a>                                 <span class="at">size =</span> <span class="dv">40</span>, </span>
<span id="cb8-22"><a href="#cb8-22"></a>                                 <span class="at">color =</span> accent,</span>
<span id="cb8-23"><a href="#cb8-23"></a>                                 <span class="at">hjust =</span> <span class="dv">1</span>,  </span>
<span id="cb8-24"><a href="#cb8-24"></a>                                 <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb8-25"><a href="#cb8-25"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span> </span>
<span id="cb8-26"><a href="#cb8-26"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="13" type="1">
<li><p><strong>Consider the order of <code>geom_*()</code> layers in the the above plot (<code>plot_us</code>). Why did the author order the layers in this way?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="iii.-build-plot_day" class="level3">
<h3 class="anchored" data-anchor-id="iii.-build-plot_day">iii. Build <code>plot_day</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>plot_day <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_day_hour) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> day, <span class="at">alpha =</span> opacity_val), </span>
<span id="cb9-3"><a href="#cb9-3"></a>            <span class="at">fill =</span> accent, </span>
<span id="cb9-4"><a href="#cb9-4"></a>            <span class="at">height =</span> <span class="fl">0.9</span>, </span>
<span id="cb9-5"><a href="#cb9-5"></a>            <span class="at">width =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> <span class="dv">9</span>, <span class="at">label =</span> hour_lab), </span>
<span id="cb9-7"><a href="#cb9-7"></a>            <span class="at">family =</span> <span class="st">"orb"</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>            <span class="at">color =</span> accent, </span>
<span id="cb9-9"><a href="#cb9-9"></a>            <span class="at">size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> day, <span class="at">label =</span> <span class="fu">str_sub</span>(<span class="at">string =</span> wday, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">1</span>)), </span>
<span id="cb9-11"><a href="#cb9-11"></a>            <span class="at">family =</span> <span class="st">"orb"</span>, </span>
<span id="cb9-12"><a href="#cb9-12"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb9-13"><a href="#cb9-13"></a>            <span class="at">color =</span> bg, </span>
<span id="cb9-14"><a href="#cb9-14"></a>            <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb9-15"><a href="#cb9-15"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="fu">xlim</span>(<span class="cn">NA</span>, <span class="fl">23.55</span>) <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>  <span class="fu">theme</span>(</span>
<span id="cb9-20"><a href="#cb9-20"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> , <span class="at">color =</span> bg),</span>
<span id="cb9-21"><a href="#cb9-21"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="14" type="1">
<li><p><strong>This plot includes one-letter labels for each day of the week. How is ths accomplished when week days are written using their three-letter abbreviations (e.g.&nbsp;<code>Mon</code>, <code>Tue</code>) in the <code>df_day_hour</code> data frame?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>What role do the <code>ylim()</code> and <code>xlim()</code> functions play in shaping a ggplot, and how do they change the visual layout of this particular plot? To better understand their effect, try rerunning the code with each of these lines commented out and observe how the plot’s spacing and composition change.</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="iv.-build-quotes" class="level3">
<h3 class="anchored" data-anchor-id="iv.-build-quotes">iv. Build <code>quote*</code>s</h3>
<p>A comment from Dan Oehm’s original code: “A bit clunky but the path of least resistance.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>quote1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span><span class="st">"text"</span>, </span>
<span id="cb10-3"><a href="#cb10-3"></a>           <span class="at">x =</span> <span class="dv">0</span>, </span>
<span id="cb10-4"><a href="#cb10-4"></a>           <span class="at">y =</span> <span class="dv">1</span>, </span>
<span id="cb10-5"><a href="#cb10-5"></a>           <span class="at">label =</span> <span class="fu">str_wrap</span>(<span class="at">string =</span> quotes[<span class="dv">1</span>], <span class="at">width =</span> <span class="dv">40</span>),</span>
<span id="cb10-6"><a href="#cb10-6"></a>           <span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb10-7"><a href="#cb10-7"></a>           <span class="at">fontface =</span> <span class="st">"italic"</span>, </span>
<span id="cb10-8"><a href="#cb10-8"></a>           <span class="at">color =</span> accent, </span>
<span id="cb10-9"><a href="#cb10-9"></a>           <span class="at">size =</span> <span class="dv">16</span>, </span>
<span id="cb10-10"><a href="#cb10-10"></a>           <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb10-11"><a href="#cb10-11"></a>           <span class="at">lineheight =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>)</span>
<span id="cb10-16"><a href="#cb10-16"></a></span>
<span id="cb10-17"><a href="#cb10-17"></a>quote2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb10-18"><a href="#cb10-18"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb10-19"><a href="#cb10-19"></a>           <span class="at">x =</span> <span class="dv">0</span>, </span>
<span id="cb10-20"><a href="#cb10-20"></a>           <span class="at">y =</span> <span class="dv">1</span>, </span>
<span id="cb10-21"><a href="#cb10-21"></a>           <span class="at">label =</span> <span class="fu">str_wrap</span>(<span class="at">string =</span> quotes[<span class="dv">2</span>], <span class="at">width =</span> <span class="dv">25</span>),</span>
<span id="cb10-22"><a href="#cb10-22"></a>           <span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb10-23"><a href="#cb10-23"></a>           <span class="at">fontface =</span> <span class="st">"italic"</span>,</span>
<span id="cb10-24"><a href="#cb10-24"></a>           <span class="at">color =</span> accent, </span>
<span id="cb10-25"><a href="#cb10-25"></a>           <span class="at">size =</span> <span class="dv">16</span>, </span>
<span id="cb10-26"><a href="#cb10-26"></a>           <span class="at">hjust =</span> <span class="dv">0</span>,  </span>
<span id="cb10-27"><a href="#cb10-27"></a>           <span class="at">lineheight =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-29"><a href="#cb10-29"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-30"><a href="#cb10-30"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb10-31"><a href="#cb10-31"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>)</span>
<span id="cb10-32"><a href="#cb10-32"></a></span>
<span id="cb10-33"><a href="#cb10-33"></a>quote3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb10-34"><a href="#cb10-34"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb10-35"><a href="#cb10-35"></a>           <span class="at">x =</span> <span class="dv">0</span>, </span>
<span id="cb10-36"><a href="#cb10-36"></a>           <span class="at">y =</span> <span class="dv">1</span>, </span>
<span id="cb10-37"><a href="#cb10-37"></a>           <span class="at">label =</span> <span class="fu">str_wrap</span>(<span class="at">string =</span> quotes[<span class="dv">3</span>], <span class="at">width =</span> <span class="dv">25</span>),</span>
<span id="cb10-38"><a href="#cb10-38"></a>           <span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb10-39"><a href="#cb10-39"></a>           <span class="at">fontface =</span> <span class="st">"italic"</span>,</span>
<span id="cb10-40"><a href="#cb10-40"></a>           <span class="at">color =</span> accent, </span>
<span id="cb10-41"><a href="#cb10-41"></a>           <span class="at">size =</span> <span class="dv">16</span>, </span>
<span id="cb10-42"><a href="#cb10-42"></a>           <span class="at">hjust =</span> <span class="dv">0</span>,  </span>
<span id="cb10-43"><a href="#cb10-43"></a>           <span class="at">lineheight =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb10-44"><a href="#cb10-44"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-45"><a href="#cb10-45"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb10-47"><a href="#cb10-47"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="16" type="1">
<li><p><strong>Why do you think the author chose to convert these text elements (and also in <code>plot_ufo</code>, below!) into ggplot objects (you may consider returning to this question after you’ve worked your way through all of the code)?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="v.-build-plot_ufo" class="level3">
<h3 class="anchored" data-anchor-id="v.-build-plot_ufo">v. Build <code>plot_ufo</code></h3>
<p><strong>Note:</strong> Grob stands for <strong>gr</strong>aphical <strong>ob</strong>ject. Each visual element rendered in a a ggplot (e.g.&nbsp;lines, points, axes, entire panels, even images) is represented as a grob. Grobs can be manipulated individually to fully customize plots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>plot_ufo <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">annotation_custom</span>(grid<span class="sc">::</span><span class="fu">rasterGrob</span>(ufo_image)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">theme</span>(</span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> bg, <span class="at">color =</span> bg) </span>
<span id="cb11-6"><a href="#cb11-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vi.-build-plot_base" class="level3">
<h3 class="anchored" data-anchor-id="vi.-build-plot_base">vi. Build <code>plot_base</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>plot_base <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">labs</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="at">title =</span> <span class="st">"UFO Sightings"</span>,</span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="at">subtitle =</span> <span class="st">"Summary of over 88k reported sightings across the US"</span>,</span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="at">caption =</span> caption</span>
<span id="cb12-6"><a href="#cb12-6"></a>    ) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">theme</span>(</span>
<span id="cb12-9"><a href="#cb12-9"></a>    <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"orb"</span>, </span>
<span id="cb12-10"><a href="#cb12-10"></a>                        <span class="at">size =</span> <span class="dv">48</span>, </span>
<span id="cb12-11"><a href="#cb12-11"></a>                        <span class="at">lineheight =</span> <span class="fl">0.3</span>, </span>
<span id="cb12-12"><a href="#cb12-12"></a>                        <span class="at">color =</span> accent),</span>
<span id="cb12-13"><a href="#cb12-13"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> bg, </span>
<span id="cb12-14"><a href="#cb12-14"></a>                                   <span class="at">color =</span> bg),</span>
<span id="cb12-15"><a href="#cb12-15"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">128</span>, </span>
<span id="cb12-16"><a href="#cb12-16"></a>                              <span class="at">face =</span> <span class="st">"bold"</span>, </span>
<span id="cb12-17"><a href="#cb12-17"></a>                              <span class="at">hjust =</span> <span class="fl">0.5</span>, </span>
<span id="cb12-18"><a href="#cb12-18"></a>                              <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">10</span>)),</span>
<span id="cb12-19"><a href="#cb12-19"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"bar"</span>, </span>
<span id="cb12-20"><a href="#cb12-20"></a>                                 <span class="at">hjust =</span> <span class="fl">0.5</span>, </span>
<span id="cb12-21"><a href="#cb12-21"></a>                                 <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">20</span>)),</span>
<span id="cb12-22"><a href="#cb12-22"></a>    <span class="at">plot.caption =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>(<span class="at">family =</span> <span class="st">"bar"</span>,</span>
<span id="cb12-23"><a href="#cb12-23"></a>                                            <span class="at">face =</span> <span class="st">"italic"</span>,</span>
<span id="cb12-24"><a href="#cb12-24"></a>                                            <span class="at">color =</span> colorspace<span class="sc">::</span><span class="fu">darken</span>(accent, <span class="fl">0.25</span>),</span>
<span id="cb12-25"><a href="#cb12-25"></a>                                            <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb12-26"><a href="#cb12-26"></a>                                            <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">20</span>)),</span>
<span id="cb12-27"><a href="#cb12-27"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">20</span>, <span class="at">t =</span> <span class="dv">50</span>, <span class="at">r =</span> <span class="dv">50</span>, <span class="at">l =</span> <span class="dv">50</span>)</span>
<span id="cb12-28"><a href="#cb12-28"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="17" type="1">
<li><p><strong>Why does the author render <code>plot.caption</code> using <code>ggtext::element_markdown()</code>, rather than <code>element_text()</code> (like he does for rendering <code>plot.title</code> and <code>text</code>)?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
</section>
<section id="v.-assemble-save" class="level2">
<h2 class="anchored" data-anchor-id="v.-assemble-save">V. Assemble &amp; save</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>plot_final <span class="ot">&lt;-</span> plot_base <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">inset_element</span>(plot_shape, <span class="at">left =</span> <span class="dv">0</span>, <span class="at">right =</span> <span class="dv">1</span>, <span class="at">top =</span> <span class="dv">1</span>, <span class="at">bottom =</span> <span class="fl">0.66</span>) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">inset_element</span>(plot_us, <span class="at">left =</span> <span class="fl">0.42</span>, <span class="at">right =</span> <span class="dv">1</span>, <span class="at">top =</span> <span class="fl">0.74</span>, <span class="at">bottom =</span> <span class="fl">0.33</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">inset_element</span>(plot_day, <span class="at">left =</span> <span class="dv">0</span>, <span class="at">right =</span> <span class="fl">0.66</span>, <span class="at">top =</span> <span class="fl">0.4</span>, <span class="at">bottom =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">inset_element</span>(quote1, <span class="at">left =</span> <span class="fl">0.5</span>, <span class="at">right =</span> <span class="dv">1</span>, <span class="at">top =</span> <span class="fl">0.8</span>, <span class="at">bottom =</span> <span class="fl">0.72</span>) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">inset_element</span>(quote2, <span class="at">left =</span> <span class="dv">0</span>, <span class="at">right =</span> <span class="dv">1</span>, <span class="at">top =</span> <span class="fl">0.52</span>, <span class="at">bottom =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">inset_element</span>(quote3, <span class="at">left =</span> <span class="fl">0.7</span>, <span class="at">right =</span> <span class="dv">1</span>, <span class="at">top =</span> <span class="fl">0.2</span>, <span class="at">bottom =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>  <span class="fu">inset_element</span>(plot_ufo, <span class="at">left =</span> <span class="fl">0.25</span>, <span class="at">right =</span> <span class="fl">0.41</span>, <span class="at">top =</span> <span class="fl">0.23</span>, <span class="at">bottom =</span> <span class="fl">0.17</span>) <span class="sc">+</span> </span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb13-10"><a href="#cb13-10"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(</span>
<span id="cb13-11"><a href="#cb13-11"></a>      <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> bg,</span>
<span id="cb13-12"><a href="#cb13-12"></a>                                     <span class="at">color =</span> bg)</span>
<span id="cb13-13"><a href="#cb13-13"></a>    )</span>
<span id="cb13-14"><a href="#cb13-14"></a>  ) </span>
<span id="cb13-15"><a href="#cb13-15"></a></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="fu">ggsave</span>(<span class="at">plot =</span> plot_final, </span>
<span id="cb13-17"><a href="#cb13-17"></a>       <span class="at">filename =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"outputs"</span>, <span class="st">"ufo_sightings_infographic.png"</span>), </span>
<span id="cb13-18"><a href="#cb13-18"></a>       <span class="at">height =</span> <span class="dv">16</span>, </span>
<span id="cb13-19"><a href="#cb13-19"></a>       <span class="at">width =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="18" type="1">
<li><p><strong>Explain how <code>plot_final</code> is assembled. What do you think is the most challenging aspect of arranging all components into a single plot?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>Can you think of one reason the author may have chosen to separate the construction of <code>plot_base</code> and <code>plot_final</code>?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>
<section id="answer-some-final-reflective-questions" class="level2">
<h2 class="anchored" data-anchor-id="answer-some-final-reflective-questions">Answer some final reflective questions</h2>
<ol start="20" type="1">
<li><p><strong>During week 2, we discuss <a href="https://eds-240-data-viz.github.io/course-materials/lecture-slides/lecture2.1-choosing-graphic-forms-slides.html#/title-slide">Choosing the right graphic form</a>. Refer to this lecture when answering the sub-questions, below:</strong></p>
<ol type="a">
<li><p><strong>What “perceptual tasks” (from Cleveland &amp; McGill’s heirarchy) must the viewer perform to extract information from these visualizations?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>What task(s) do you think the author wanted to enable or message(s) he wanted to convey with these visualizations (see lecture 2.1, slide 16 for examples)? Be sure to note at least one task / message for each of the three data viz.</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>Name at least one caveat to the “hierarchy of perceptual tasks” that the author employed to achieve a goal(s) you noted in question b?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol></li>
<li><p><strong>Describe two elements of this piece that you find visually-pleasing / easy to understand / intuitive. Why?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>Describe two elements of this piece that you feel could be better presented in a different way. Why?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>Describe two new things that you learned by interpreting / annotating this code. These could be packages, functions, or even code organizational approaches that you hadn’t previously known about or considered.</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
<li><p><strong>How, if at all, did you use AI tools to help you interpret this code? Describe your approach to using these tools for this assignment. In what ways was consulting the documentation more (or less) helpful than using AI?</strong></p>
<ul>
<li>Answer here</li>
</ul></li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>